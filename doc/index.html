<style type="text/css">
<!--
.highlight {
	color: #C00;
}
-->
</style><h1>Birdflew Peer-to-Peer Social Bookmark Project</h1>
<h2>SE560 Report </h2>
<h4>Summary</h4>
<p>The hostname for this node currently resides at http://ec2-50-19-183-238.compute-1.amazonaws.com.  Time permitting, I intend to give it a shorter domain.</p>
<p>Currently, the node is being hosted off of an amazon ec2 instance.  The application is built using the Python-based web framework Django.  It uses the Nginx webserver for static content hosting, fastcgi/flup for dynamic content, PostgreSQL for the persistence layer, lxml for xml parsing/rendering, and redis for caching.</p>
<p>Currently, the main user that I have on the site by default is joe@joe.com.  This user can be accessed by querying the following url:</p>
<p>http://ec2-50-19-183-238.compute-1.amazonaws.com/v2/users/joe@joe.com</p>
<p>Most of the v2 GET urls support a .xml extension to display the data in xml format.  By default, urls respond in xhtml format. Click each endpoint below to get more information about it. </p>
<h4>Features</h4>
<ol>
<li>Support for xhtml microformat output</li>
<li>Admin Interface for browsing persisted data (at /admin/). </li>
<li>Status page at site root (/) displaying neighbor node status</li>
<li>XML RelaxNG validation of POSTed data</li>
<li>Programmatically created XML</li>
<li>XML to XHTML conversion using XSLT</li>
</ol>
<h4>URL Methods</h4>
<p>NOTS:</p>
<li>Screenshots for REST calls included in the examples below are of the Firefox Extension, <a href="https://addons.mozilla.org/en-US/firefox/addon/restclient/">RESTClient</a>. </li>
<li>Most of the URL endpoints are protected by a rate-limit middleware. It allows 5 request every 30 seconds to each endpoint.</li>
&nbsp;</p>
<hr />
<p><a href="api/v1/whoami/index.html">/v1/whoami</a> GET</p>
<blockquote>
  <p>
    --   Input: none <br>
  --   Output: plain text email of node owner  </p>
</blockquote>
<hr />
<p><a href="api/v1/lookupUrls/index.html">/v1/lookupUrls</a> GET    </p>
<blockquote>
  <p>--  Input: none   <br>
    --  Output:  List of node urls
  </p>
  <blockquote>
    <pre>&lt;urls&gt;
   &lt;url&gt;http://50.17.226.103:80&lt;/url&gt;     
   &lt;url&gt;http://afternoon-snow-4694.herokuapp.com:80&lt;/url&gt;   
   ....   
&lt;/urls&gt;</pre></blockquote>
</blockquote>
<hr />
<p><a href="api/v1/registerUrls/index.html">/v1/registerUrls</a> POST
</p>
<hr />
<p><a href="api/v2/users/index.html">/v2/users</a> GET  </p>
<blockquote>
  <p>-- Input: none  <br>
  -- Output: List of users</p>
</blockquote>
<p>  <span class="highlight">LIVE URL </span>- <a href="http://likecite.com/v2/users">http://likecite.com/v2/users</a></p>
<hr />
<p><a href="api/v2/users/index.html">/v2/users</a> POST
</p>
<blockquote>
  <p> --  Input:</p>
  <pre>
    &lt;user&gt;
        &lt;email&gt;bob@whitequail.org&lt;/email&gt;
        &lt;node&gt;http://bobs-whizbang.elasticbeanstalk.com&lt;/node&gt;
    &lt;/user&gt;
  </pre> 
   <p>-- Output:</p>
  <pre>
    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
        &lt;message&gt;&lt;success&gt;User Added&lt;/success&gt;
    &lt;/message&gt;</pre></blockquote>
<hr />
<p><a href="api/v2/users_username/index.html">/v2/users/{username}</a> GET
    -- Input: none
  -- Output: user detail for a specific user</p>
<hr />
<p><a href="api/v2/users_urls/index.html">/v2/users/{username}/urls</a> GET
    -- Input: none
    -- Output: list all users urls</p>
<hr />
<p><a href="api/v2/users_urls/index.html">/v2/users/{username}/urls</a> POST</p>
<blockquote>
  <p>-- Input: a required uri, an optional list of categories, and an optional list of comments
  </p>
  <pre>
    &lt;url&gt;
        &lt;uri&gt;http://somewhere.com&lt;/uri&gt;
        &lt;categories&gt;
           &lt;category&gt;News&lt;/category&gt;
           &lt;category&gt;Sports&lt;/category&gt;
        &lt;/categories&gt;
        &lt;comments&gt;
           &lt;comment&gt;This is comment 1&lt;/comment&gt;
           &lt;comment&gt;This is comment 2&lt;/comment&gt;
        &lt;/comments&gt;
    &lt;/url&gt;
    </pre>
  <p>-- Output: </p>
  <pre>
    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
    &lt;message&gt;&lt;success&gt;Bookmark Added&lt;/success&gt;&lt;/message&gt;</pre>
</blockquote>
<hr />
<p><a href="api/v2/users_urls_urlid/index.html">/v2/users/{username}/urls/{url_id</a>}  GET
    -- Input: none
    -- Output: a specific url for a given user</p>
<hr />
<p><a href="api/v2/categories/index.html">/v2/categories</a> GET
    -- Input: none
    -- Output: a list of available categories</p>
<hr />
<p><a href="api/v2/categories_categoryname/index.html">/v2/categories/{category}</a> GET
    -- Input: none
    -- Output: details about a category  </p>
<hr />
<p><a href="api/v2/users_subscribe/index.html">/v2/users/{username}/subscribe</a> POST
</p>
<blockquote>
  <p>-- input:
  </p>
  <pre>
    &lt;subscribe&gt;
        &lt;callback-url&gt;http://examplenode.org/v2/users/alice@springs.com/notify&lt;/callback-url&gt;
    &lt;/subscribe&gt;
    </pre>
  <p> -- Output:</p>
  <pre>
    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
    &lt;message&gt;&lt;success&gt;Subscription added&lt;/success&gt;&lt;/message&gt;</pre>
</blockquote>
<hr />
<p><a href="api/v2/users_notify/index.html">/v2/users/{username}/notify</a> POST </p>
<p>&nbsp;</p>
